<template>
  <!-- Modal -->
  <div class="modal fade" id="newProdCat" role="dialog">
      <div class="modal-dialog">

          <!-- Modal content-->
          <div class="modal-content">
              <div class="modal-header">

                  <h4 class="modal-title">Register new Product Category</h4>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
              </div>
              <div class="modal-body">

                  <h4 v-if="hasMessage" v-bind:class="messageStyle">  {{  message }}</h4>
                  <div class="form-group">
                      <label for="name">Name:</label>
                      <input type="text"
                             v-bind:class="nameStyle"
                             id="name"
                             autocomplete="name"
                             v-model="name">
                      <div class="invalid-feedback">
                          Please provide a valid email.
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="marketNames">MarketNames (Seperate name with a comma ',' )</label>
                      <input type="text"
                             id="marketNames"
                             class="form-control"
                             autocomplete="marketNames"
                             v-model="marketNames">
                     
                  </div>
                  <div class="form-group">
                      <label for="image">Upload an Image</label>
                      <input type="file"
                             v-bind:class="imageStyle"
                             id="image"
                             accept="image/*"
                             v-on:change="filesChange"
                             autocomplete="image">
                      <img v-if="image_url"
                           v-bind:src="image_url"
                           style="width: 100%; height: 220px" />
                      <div class="invalid-feedback">
                          Please provide an Image.
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="tags">Select Tags for this Product Category</label>
                      <select class="w3-input w3-margin-bottom"
                              multiple
                              v-bind:class="tagsStyle"
                              id="tags"
                              autocomplete="tags"
                              v-model="tags">
                          <option v-for="productTag in productTags"
                                  v-bind:key="productTag.productTagID"
                                  v-bind:value="productTag.name">
                              {{ productTag.name }}
                          </option>
                      </select>
                      <div class="invalid-feedback">
                          Please provide tags for this product Category.
                      </div>
                  </div>
                  <div class="form-group">
                      <button type="button"
                              class="btn btn-primary form-control"
                              v-bind:disabled="inValidForm"
                              v-on:click="handleSubmit">
                          {{ buttonText }}
                      </button>
                  </div>
              </div>

              <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
          </div>

      </div>
  </div>
</template>

<style src="./index.css" />
<script src="./index.js" > </script>

<style scoped>
  img {
      height: 100% !important;
  }
</style>
